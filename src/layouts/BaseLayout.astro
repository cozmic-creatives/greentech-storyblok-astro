---
import Navbar from '~/components/navigation/Navbar.astro';
import Footer from '~/components/Footer.astro';
import SEO, { type SEOProps } from '~/components/SEO.astro';

import '~/styles/main.css';
import '~/styles/view-transitions.css';

interface Props {
  seo?: SEOProps;
}

const { seo = {} } = Astro.props;
---

<html lang="en">
  <head>
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png" />

    <!-- Web App Manifest -->
    <link rel="manifest" href="/manifest.webmanifest" />

    <!-- Theme Color for browsers -->
    <meta name="theme-color" content="#16a34a" />
    <meta name="msapplication-TileColor" content="#16a34a" />

    <SEO {...seo} />

    <!-- Crisp chat integration -->
    <script type="text/javascript">
      window.$crisp = [];
      window.CRISP_WEBSITE_ID = '42f678f5-e18a-4b6c-9319-0997d83aaa62';
      (function () {
        d = document;
        s = d.createElement('script');
        s.src = 'https://client.crisp.chat/l.js';
        s.async = 1;
        d.getElementsByTagName('head')[0].appendChild(s);
      })();
    </script>
  </head>

  <body>
    <!-- Loading indicator for transitions -->
    <div id="loading-indicator" class="loading-indicator"></div>

    <Navbar />
    <main>
      <slot />
    </main>
    <Footer />

    <!-- View transitions event handlers -->
    <!-- <script is:inline src="/scripts/viewTransitions.js"></script> -->
  </body>
</html>
