---
import { storyblokEditable } from '@storyblok/astro';
import { Markdown } from 'astro-remote';
import { cn } from '~/lib/utils';
import Icon from '~/components/Icon.astro';
import { Badge } from '~/components/ui/badge';

const { blok } = Astro.props;
const { text = 'text', textClasses } = blok;
---

<div
  class={cn('prose prose-headings:m-0 prose-p:m-0 dark:prose-invert flex flex-col', textClasses)}
  {...storyblokEditable(blok)}
>
  <Markdown content={text} sanitize={{ allowComponents: true }} components={{ Icon, Badge }} />
</div>
