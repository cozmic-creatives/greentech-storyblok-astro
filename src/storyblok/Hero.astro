---
import { storyblokEditable } from '@storyblok/astro';
import { renderRichText } from '@storyblok/astro';
import { Button } from '~/components/ui/button';

const { blok } = Astro.props;
const renderedRichText = renderRichText(blok.headline)
---

<section 
  {...storyblokEditable(blok)} 
  class="py-12 md:py-24 lg:py-32 relative bg-cover bg-center"
  style={`background-image: url(${blok.images?.[0]?.filename || ''})`}
>
  <div class="absolute inset-0 bg-gradient-to-r from-black to-transparent"></div>
  <div class="container relative z-10">
    <div class="flex flex-col gap-4 md:gap-6 md:w-2/3 lg:gap-8 lg:w-1/2">
      <div class="prose prose-invert prose-lg" set:html={renderedRichText}></div>
      <div class="flex gap-2">
        {blok.callToAction?.map((button) => (
          <Button size='xl' variant='chamfered-corners' {...storyblokEditable(button)} key={button._uid}>
            {button.text}
          </Button>
        ))}
      </div>
    </div>
  </div>
</section>
