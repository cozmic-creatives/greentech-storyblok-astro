---
import { storyblokEditable } from '@storyblok/astro';
import Text from '~/storyblok/Text.astro';
import OptimisedImage from '~/components/OptimisedImage.astro';

const { blok } = Astro.props;
const { link, images, text } = blok;
---

<style is:inline>
  .team-card .prose p {
    color: white;
  }
</style>

<div
  {...storyblokEditable(blok)}
  class="relative group bg-gray-50 overflow-hidden rounded-lg hover:shadow-lg hover:scale-[1.02] transition-all duration-300 flex flex-col h-full team-card border"
>
  <div class="relative w-full aspect-[230/350] overflow-hidden">
    {
      images && images.length > 0 ? (
        <>
          <OptimisedImage
            src={images[0]?.filename}
            alt={images[0]?.alt || 'Team member'}
            width={230}
            height={350}
            class="object-cover w-full h-full"
          />
          <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent">
            <div class="absolute bottom-0 left-0 right-0 p-4">
              <Text blok={{ text, textClasses: 'text-white leading-[1.5]' }} />
            </div>
          </div>
        </>
      ) : (
        <div class="flex items-center justify-center h-full">
          <Text blok={{ text }} />
        </div>
      )
    }
  </div>
</div>
