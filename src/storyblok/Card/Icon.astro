---
import { storyblokEditable } from '@storyblok/astro';
import Text from '~/storyblok/Text.astro';
import Icon from '~/components/Icon.astro';
import { cn } from '@/lib/utils';

const { blok } = Astro.props;
const { link, images, text, icon, cardClasses } = blok;
---

<div
  {...storyblokEditable(blok)}
  class={cn(
    'group p-6 border rounded-xl hover:border-primary hover:bg-primary/10 hover:shadow-lg hover:scale-[1.02] transition-all duration-300 flex flex-col gap-2 h-full',
    cardClasses
  )}
>
  {icon && <Icon name={icon} class="text-[36px]! leading-[36px] text-primary" />}
  <div class="grow"></div>
  {
    images && images.length > 0 ? (
      <div class="flex flex-col items-center">
        <img
          src={images[0]?.filename}
          alt={images[0]?.alt || 'Icon'}
          class="w-16 h-16 object-contain mb-4"
        />
        <Text blok={{ text }} />
      </div>
    ) : (
      <Text blok={{ text }} />
    )
  }
</div>
