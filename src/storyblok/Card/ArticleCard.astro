---
import { storyblokEditable } from '@storyblok/astro';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '~/components/ui/card';
import Image from 'astro/components/Image.astro';

const { blok } = Astro.props;
const { title, excerpt, slug, cardClasses, image } = blok;
---

<Card
  className={`hover:shadow-lg transition-shadow duration-300 ${cardClasses || ''}`}
  {...storyblokEditable(blok)}
>
  <CardHeader>
    {image && <img src={image} alt={title} />}
    <CardTitle className="line-clamp-2">
      <a
        href={`/articles/${slug}`}
        class="hover:text-primary dark:hover:text-primary transition-colors"
      >
        {title}
      </a>
    </CardTitle>
    {excerpt && <CardDescription className="line-clamp-3">{excerpt}</CardDescription>}
  </CardHeader>
  <CardContent>
    <a
      href={`/articles/${slug}`}
      class="inline-flex items-center text-primary hover:text-primary font-medium transition-colors"
    >
      Read more
      <svg class="ml-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"
        ></path>
      </svg>
    </a>
  </CardContent>
</Card>
