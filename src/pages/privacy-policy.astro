---
import BaseLayout from '~/layouts/BaseLayout.astro';
import StoryblokComponent from '@storyblok/astro/StoryblokComponent.astro';
import { getStoryblokStory } from '~/lib/storyblok';
import { extractSEOFromStory } from '~/utils/seo';

const story = await getStoryblokStory('privacy-policy');

// Extract SEO data from the story with privacy policy-specific fallbacks
const seo = extractSEOFromStory(story, {
  title: 'Privacy Policy - GreenTech Sustainable Solutions',
  description:
    "Read GreenTech's privacy policy to understand how we collect, use, and protect your personal information when using our sustainable plastic solutions.",
  keywords: 'privacy policy, greentech privacy, data protection, sustainable plastic solutions',
  openGraph: {
    type: 'website',
  },
  noindex: true, // Privacy policies are typically not indexed
});
---

<BaseLayout seo={seo}>
  <StoryblokComponent blok={story.content} />
</BaseLayout>
